<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CRM Follow Up</title>

<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  font-family:"Prompt",sans-serif;
  background:#f6fbf9;
  margin:0;
  padding:20px;
}

/* ===== Dashboard ===== */
.dashboard{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:12px;
  margin-bottom:20px;
}
.card{
  background:#fff;
  padding:14px;
  border-radius:12px;
  text-align:center;
}
.card span{
  display:block;
  font-size:26px;
  font-weight:600;
  margin-top:4px;
}
.follow-green{background:#e6f7ee}
.follow-yellow{background:#fff8d6}
.follow-orange{background:#ffe3c2}
.follow-red{background:#ffd6d6}

/* ===== Form ===== */
.form-box{
  background:#fff;
  padding:20px;
  border-radius:14px;
  margin-bottom:20px;
}

/* ‚≠ê ‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á */
.form-grid{
  display:grid;
  grid-template-columns:repeat(6, minmax(0,1fr));
  gap:14px;
  align-items:stretch;
}

/* ===== Input Group ===== */
.input-group{
  position:relative;
}

.input-group i{
  position:absolute;
  left:12px;
  top:50%;
  transform:translateY(-50%);
  color:#999;
  pointer-events:none;
}

.input-group input,
.input-group textarea{
  width:100%;
  height:48px;                 /* ‚≠ê ‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
  border:1px solid #ccc;
  border-radius:10px;
  padding:10px 12px 10px 36px;
  font-family:"Prompt",sans-serif;
  font-size:14px;
  box-sizing:border-box;
}

/* textarea ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏î‡πâ */
.input-group textarea{
  resize:vertical;
  line-height:1.5;
}

/* ===== Button ===== */
button{
  margin-top:16px;
  padding:10px 18px;
  border:none;
  border-radius:10px;
  background:#1c8c6e;
  color:#fff;
  cursor:pointer;
}

/* ===== Table ===== */
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
}
th,td{
  padding:12px;
  border:1px solid #ddd;
  vertical-align:top;
}
th{background:#eef7f4}
td:nth-child(8){
  white-space:pre-line;
  word-break:break-word;
}

/* ===== Responsive ===== */
@media(max-width:900px){
  .form-grid{grid-template-columns:1fr}
}
</style>
</head>

<body>

<h2>üìä CRM ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>

<!-- ===== Dashboard ===== -->
<div class="dashboard">
  <div class="card follow-green">üü¢ ‡∏õ‡∏Å‡∏ï‡∏¥<span id="dGreen">0</span></div>
  <div class="card follow-yellow">üü° ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°<span id="dYellow">0</span></div>
  <div class="card follow-orange">üü† ‡πÄ‡∏£‡πà‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°<span id="dOrange">0</span></div>
  <div class="card follow-red">üî¥ ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á<span id="dRed">0</span></div>
</div>

<!-- ===== Form ===== -->
<div class="form-box">
<h3>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏° / ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</h3>

<div class="form-grid">
  <div class="input-group">
    <input type="date" id="fDate" placeholder="mm/dd/yyyy">
    <i class="fa-solid fa-calendar-days"></i>
  </div>

  <div class="input-group">
    <input type="text" id="fName" placeholder="‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•">
    <i class="fa-solid fa-hospital"></i>
  </div>

  <div class="input-group">
    <input type="text" id="fContact" placeholder="‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠">
    <i class="fa-solid fa-user"></i>
  </div>

  <div class="input-group">
    <input type="text" id="fDepartment" placeholder="‡πÅ‡∏ú‡∏ô‡∏Å">
    <i class="fa-solid fa-sitemap"></i>
  </div>

  <div class="input-group">
    <input type="text" id="fProvince" placeholder="‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î">
    <i class="fa-solid fa-location-dot"></i>
  </div>

  <div class="input-group">
    <textarea id="fNote" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ)"></textarea>
    <i class="fa-solid fa-clipboard"></i>
  </div>
</div>

<button onclick="saveEntry()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
</div>

<!-- ===== Table ===== -->
<table>
<thead>
<tr>
  <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
  <th>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</th>
  <th>‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</th>
  <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
  <th>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</th>
  <th>‡∏ß‡∏±‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ</th>
  <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
  <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>

<script>
let entries=[];

function daysSince(d){
  return Math.floor((new Date()-new Date(d))/(86400000));
}
function followClass(days){
  return days<=7?"follow-green":days<=14?"follow-yellow":days<=21?"follow-orange":"follow-red";
}
function followText(days){
  return days<=7?"‡∏õ‡∏Å‡∏ï‡∏¥":days<=14?"‡∏Ñ‡∏ß‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°":days<=21?"‡πÄ‡∏£‡πà‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°":"‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á";
}

function saveEntry(){
  if(!fDate.value||!fName.value) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö");

  entries.push({
    date:fDate.value,
    name:fName.value,
    contact:fContact.value,
    dept:fDepartment.value,
    province:fProvince.value,
    note:fNote.value
  });

  fDate.value=fName.value=fContact.value=fDepartment.value=fProvince.value=fNote.value="";
  render();
}

function render(){
  const tb=document.getElementById("tbody");
  tb.innerHTML="";
  let g=0,y=0,o=0,r=0;

  entries.forEach(e=>{
    const days=daysSince(e.date);
    const cls=followClass(days);
    if(cls==="follow-green")g++;
    else if(cls==="follow-yellow")y++;
    else if(cls==="follow-orange")o++;
    else r++;

    tb.innerHTML+=`
      <tr class="${cls}">
        <td>${e.date}</td>
        <td>${e.name}</td>
        <td>${e.contact}</td>
        <td>${e.dept}</td>
        <td>${e.province}</td>
        <td align="center">${days}</td>
        <td>${followText(days)}</td>
        <td>${e.note}</td>
      </tr>
    `;
  });

  dGreen.textContent=g;
  dYellow.textContent=y;
  dOrange.textContent=o;
  dRed.textContent=r;
}
</script>

</body>
</html>
